<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>let&const</title>
</head>

<body>
    <p>let声明的变量只在它所在的代码块有效。</p>
    <p>let不像var那样会发生“变量提升”现象。所以，变量一定要在声明后使用，否则报错。</p>
    <p>只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。在代码块内，使用let命令声明变量之前，该变量都是不可用的。这在语法上，称为<b>“暂时性死区”</b>（temporal dead zone，简称 TDZ）。</p>
    <p>let不允许在<b>相同作用域</b>内，重复声明同一个变量。</p>
    <p>let实际上为JavaScript新增了块级作用域。块级作用域的出现，实际上使得获得广泛应用的立即执行函数表达式（IIFE）不再必要了。</p>
    <p>const声明一个只读的常量。一旦声明，常量的值就不能改变。const的作用域与let命令相同：只在声明所在的块级作用域内有效。</p>
    <p>ES6一共有6种声明变量的方法：var命令和function命令、let命令和const命令、import命令和class命令。</p>
</body>
<script type="text/javascript">
	{
	    let a = 1;
	    var b = 2;
	}
	// console.log(a); // a is not defined
	console.log(b);


	//变量提升
	// var 的情况
	console.log(foo); // 输出undefined
	var foo = 2;
	// let 的情况
	// console.log(bar); // 报错ReferenceError
	let bar = 2;


	//暂时性死区
	if (true) {
	    // TDZ开始
	    tmp = 'abc'; // ReferenceError
	    console.log(tmp); // ReferenceError

	    let tmp; // TDZ结束
	    console.log(tmp); // undefined

	    tmp = 123;
	    console.log(tmp); // 123
	}

	//块级作用域
	function f1() {
	    let n = 5;
	    if (true) {
	      let n = 10;
	    }
	    console.log(n); // 5
	}
	//立即执行函数表达式 IIFE 写法
	(function () {
	    var block = '...';
	}());
	// 块级作用域写法
	{
	    let block = '...';
	}
</script>

</html>
